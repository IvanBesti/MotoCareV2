import{r as a,W as Q,j as e}from"./app-CyaN6xsP.js";import{A as W}from"./AdminLayout-PFMD-RUe.js";import{X}from"./index.es-BmtGfkdq.js";import{B as C}from"./ButtonAdmin-DFHYROdf.js";import{R as m,C as c}from"./Row-CiQT7cFv.js";import{M as i}from"./Modal-iN6Zw-8X.js";import{T as Y}from"./Table-DnZwWSpL.js";import{B as S}from"./Button-BgJxX_0z.js";/* empty css            */import"./index-CEILWtln.js";import"./emotion-unitless.esm-sScrWPmR.js";import"./ThemeProvider-DfRC6yqX.js";import"./setPrototypeOf-CL05xPcL.js";import"./divWithClassName-CvjRewxl.js";const K="_search_hylkm_40",O="_table_hylkm_1",U="_tr_hylkm_55",G="_th_hylkm_55",Z="_td_hylkm_60",$="_form_hylkm_24",ee="_judul_hylkm_81",se="_link_hylkm_93",te="_deskripsi_hylkm_113",t={"table-wrapper":"_table-wrapper_hylkm_1","title-table":"_title-table_hylkm_8","sub-wrapper":"_sub-wrapper_hylkm_18","form-search":"_form-search_hylkm_24","icon-search":"_icon-search_hylkm_32",search:K,table:O,tr:U,th:G,td:Z,"title-form":"_title-form_hylkm_65",form:$,judul:ee,link:se,deskripsi:te};function fe({tutorials:n}){const[w,y]=a.useState(!1),[v,h]=a.useState(!1),[T,D]=a.useState(""),[B,p]=a.useState(n),[l,_]=a.useState(!1),{data:o,setData:j,put:E,post:M,delete:V,processing:A,errors:b}=Q({id:"",judul:"",link:"",deskripsi:""}),g=()=>y(!1),F=(s,r)=>{s.preventDefault(),y(!0),_(r),console.log(r)},x=()=>h(!1),H=(s,r)=>{s.preventDefault(),h(!0),_(r)},L=s=>{j({id:s.id,judul:s.judul,link:s.link,deskripsi:s.deskripsi})},R=[{name:"Judul",selector:s=>s.judul},{name:"Action",selector:s=>e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:r=>F(r,s),style:{color:"#f16211"},children:e.jsx("box-icon",{name:"info-circle",type:"solid",color:"#f16211"})}),e.jsx("button",{onClick:()=>L(s),className:"mx-2",children:e.jsx("box-icon",{name:"edit",type:"solid",color:"#f16211"})}),e.jsx("button",{onClick:r=>H(r,s),style:{color:"#f16211"},children:e.jsx("box-icon",{name:"trash",type:"solid",color:"#f16211"})})]})}];function f(s){const r=s.target.id,u=s.target.value;j(P=>({...P,[r]:u}))}const[d,q]=a.useState({}),[N,k]=a.useState(!1),J=s=>{s.preventDefault();const r=o.id?"admin.tutorial.update":"admin.tutorial.store";(o.id?E:M)(route(r,o.id),{preserveScroll:!0,data:o,onSuccess:()=>{k(!0)}})},z=()=>{V(route("admin.tutorial.delete",{tutorial:l.id}),{preserveScroll:!0,onSuccess:()=>{h(!1),k(!0),console.log("OK")},onError:()=>{console.error("Error deleting tutorial")}})},I=s=>{D(s.target.value);const r=n.filter(u=>u.judul.toLowerCase().includes(s.target.value.toLowerCase())||u.deskripsi.toLowerCase().includes(s.target.value.toLowerCase()));console.log(r),p(r)};return a.useEffect(()=>{p(n)},[n]),a.useEffect(()=>{q(b)},[b]),a.useEffect(()=>{N&&(p(n),j({id:"",judul:"",link:"",deskripsi:""}),k(!1))},[N,n]),e.jsxs(W,{title:"Manajemen Tutorial",children:[e.jsxs(m,{children:[e.jsxs(c,{md:6,style:{borderRight:"2px solid #f16211"},children:[e.jsx("h1",{className:t["title-table"],children:"Daftar Tutorial"}),e.jsxs("form",{id:"form-search",className:t["form-search"]+" d-flex justify-content-md-start",style:{width:"60%"},children:[e.jsx("span",{className:t["icon-search"],children:e.jsx("box-icon",{name:"search",color:"#f16211"})}),e.jsx("input",{type:"text",name:"search",id:"search",placeholder:"Cari Tutorial",autoComplete:"off",className:t.search,value:T,onChange:I})]}),e.jsx(X,{columns:R,data:B,pagination:!0,responsive:!0,striped:!0,className:"table-striped"})]}),e.jsxs(c,{md:6,children:[e.jsx("div",{className:"form-merk-motor",children:e.jsx("h1",{className:t["title-form"],children:"Form Tutorial"})}),e.jsxs("form",{id:"form",onSubmit:J,className:t.form,children:[e.jsx("input",{type:"hidden",name:"id",id:"id",value:o.id}),e.jsx(m,{className:"mb-3",children:e.jsxs(c,{md:{span:9,offset:1},children:[e.jsx("input",{type:"text",name:"judul",id:"judul",placeholder:"Judul Video",autoComplete:"off",required:!0,value:o.judul,onChange:f,className:t.judul}),d.judul&&e.jsx("small",{className:"text-danger",children:d.judul})]})}),e.jsx(m,{className:"mb-4",children:e.jsxs(c,{md:{span:9,offset:1},children:[e.jsx("input",{type:"text",name:"link",id:"link",placeholder:"Link Video",autoComplete:"off",required:!0,value:o.link,onChange:f,className:t.link}),d.link&&e.jsx("small",{className:"text-danger",children:d.link})]})}),e.jsx(m,{className:"mb-4",children:e.jsxs(c,{md:{span:12},children:[e.jsx("textarea",{name:"deskripsi",id:"deskripsi",rows:"6",placeholder:"Deskripsi Video",autoComplete:"off",required:!0,value:o.deskripsi,onChange:f,className:t.deskripsi,children:o.deskripsi}),d.deskripsi&&e.jsx("small",{className:"text-danger",children:d.deskripsi})]})}),e.jsx(m,{children:e.jsx(c,{md:{span:8,offset:4},children:e.jsxs(C,{disabled:A,type:"submit",style:{background:"linear-gradient(90deg, #f16211 -14.33%, #e59a6f 85.67%)",fontSize:"20px",fontStyle:"normal",fontWeight:"700",textAlign:"center"},children:[e.jsx("box-icon",{name:"save",type:"solid",color:"#fff"})," ",e.jsx("span",{className:"ms-2",children:"SUBMIT"})]})})})]})]})]}),e.jsxs(i,{size:"lg",show:w,onHide:g,children:[e.jsx(i.Header,{closeButton:!0,children:e.jsxs(i.Title,{children:["Detail Tutorial"," ",e.jsx("span",{className:"title",children:l&&l.judul})]})}),e.jsx(i.Body,{children:e.jsx(Y,{borderless:!0,className:t.table,children:e.jsxs("tbody",{children:[e.jsxs("tr",{className:t.tr,children:[e.jsx("th",{className:t.th,children:"Judul Video"}),e.jsx("td",{className:t.td,children:":"}),e.jsx("td",{children:l&&l.judul})]}),e.jsxs("tr",{className:t.tr,children:[e.jsx("th",{className:t.th,children:"Deskripsi"}),e.jsx("td",{className:t.td,children:":"}),e.jsx("td",{children:l&&l.deskripsi})]}),e.jsxs("tr",{className:t.tr,children:[e.jsx("th",{className:t.th,children:"Video"}),e.jsx("td",{className:t.td,children:":"}),e.jsx("td",{children:l&&l.link?e.jsx("iframe",{src:l&&l.link,frameBorder:"0",title:"Youtube Video Player",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share",referrerPolicy:"strict-origin-when-cross-origin",allowFullScreen:!0}):"Video tidak tersedia"})]})]})})}),e.jsx(i.Footer,{children:e.jsx(S,{variant:"secondary",onClick:g,children:"Close"})})]}),e.jsxs(i,{show:v,onHide:x,children:[e.jsx(i.Header,{closeButton:!0,children:e.jsx(i.Title,{children:"Hapus Tutorial"})}),e.jsx(i.Body,{children:e.jsxs("p",{children:["Apakah anda yakin ingin menghapus Tutorial:"," ",e.jsx("b",{children:l&&l.judul}),"?"]})}),e.jsxs(i.Footer,{children:[e.jsx(S,{variant:"secondary",onClick:x,children:"Close"}),e.jsx("form",{onSubmit:z,action:"#",method:"post",children:e.jsx(C,{type:"submit",variant:"primary",onClick:x,style:{backgroundColor:"#f16211",borderColor:"#f16211"},children:"Ya, Hapus"})})]})]})]})}export{fe as default};
