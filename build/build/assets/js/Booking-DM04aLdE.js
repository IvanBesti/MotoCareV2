import{r,W as y,j as e,y as C}from"./app-CyaN6xsP.js";import{U as S}from"./UserLayout-DKIt1O_v.js";import{S as j}from"./react-select.esm-7obwNL3l.js";/* empty css            */import"./index-CEILWtln.js";import"./setPrototypeOf-CL05xPcL.js";import"./emotion-unitless.esm-sScrWPmR.js";function B({users:d,katalogs:_,auth:s,jenisLayanans:f}){var h,b;const[m,c]=r.useState(null),[n,u]=r.useState({}),{data:o,setData:l,post:k,errors:x}=y({id:"",user_id:((h=s==null?void 0:s.user)==null?void 0:h.id)||d&&((b=d[0])==null?void 0:b.id)||null,jenis_layanan_id:"",katalog_id:"",tahun_pembuatan:"",nomor_polisi:"",km_kendaraan:"",jadwal_booking:"",catatan:""}),p=_.map(a=>({value:a.id,label:`${a.merk} ${a.model}`})),g=f.map(a=>({value:a.id,label:a.jenis_layanan})),v=a=>{a.preventDefault(),s.user?k(route("user.booking.store"),{preserveScroll:!0,onSuccess:()=>{var t;c("Data booking berhasil ditambahkan."),l({id:"",user_id:((t=s==null?void 0:s.user)==null?void 0:t.id)||null,jenis_layanan_id:"",katalog_id:"",tahun_pembuatan:"",nomor_polisi:"",km_kendaraan:"",jadwal_booking:"",catatan:""}),setTimeout(()=>c(null),5e3)},onError:t=>{console.error(t),u(t)}}):C.visit(route("auth"),{method:"GET",headers:{"Content-Type":"application/json"}})},i=a=>{const{name:t,value:N}=a.target;l(w=>({...w,[t]:N}))};return r.useEffect(()=>{u(x)},[x]),e.jsx(S,{auth:s,children:e.jsx("main",{children:e.jsxs("article",{children:[e.jsx("h1",{className:"mt-4 text-6xl font-bold text-center text-gray-200 mb-12",children:"BOOKING"}),e.jsxs("div",{className:"max-w-7xl py-10 px-8 mx-auto bg-white p-8 rounded-3xl shadow-md mb-60",children:[m&&e.jsx("div",{className:"mb-6 p-4 bg-green-100 text-green-700 rounded-lg shadow",children:m}),e.jsx("form",{onSubmit:v,className:"space-y-6",children:e.jsxs("section",{children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-3xl mb-2 text-orange-500",children:"Jenis Layanan"}),e.jsx(j,{id:"jenis_layanan",options:g,value:g.find(a=>a.value===o.jenis_layanan_id),onChange:a=>l(t=>({...t,jenis_layanan_id:a.value})),placeholder:"Pilih Jenis Layanan"}),n.jenis_layanan_id&&e.jsx("p",{className:"text-red-500 text-sm",children:n.jenis_layanan_id})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-orange-500 text-3xl mb-2",children:"Jadwal Booking"}),e.jsx("input",{type:"date",id:"jadwal_booking",name:"jadwal_booking",value:o.jadwal_booking,onChange:i,required:!0,className:"w-full text-2xl p-2 border rounded-lg shadow focus:outline-none focus:ring-2 focus:ring-blue-300 transition duration-300"}),n.jadwal_booking&&e.jsx("p",{className:"text-red-500 text-sm",children:n.jadwal_booking})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mt-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-orange-500 text-3xl mb-2",children:"Informasi Motor"}),e.jsx(j,{id:"katalog",options:p,value:p.find(a=>a.value===o.katalog_id),onChange:a=>l(t=>({...t,katalog_id:a.value})),placeholder:"Pilih Katalog"}),n.katalog_id&&e.jsx("p",{className:"text-red-500 text-sm",children:n.katalog_id}),e.jsx("input",{type:"text",id:"tahun_pembuatan",name:"tahun_pembuatan",placeholder:"Tahun Pembuatan",value:o.tahun_pembuatan,onChange:i,maxLength:"4",className:"w-full text-2xl p-2 mt-4 border rounded-lg shadow focus:outline-none focus:ring-2 focus:ring-blue-300 transition duration-300"}),n.tahun_pembuatan&&e.jsx("p",{className:"text-red-500 text-sm",children:n.tahun_pembuatan}),e.jsx("input",{type:"text",id:"nomor_polisi",name:"nomor_polisi",placeholder:"Nomor Polisi",value:o.nomor_polisi,onChange:i,required:!0,className:"w-full text-2xl p-2 mt-4 border rounded-lg shadow focus:outline-none focus:ring-2 focus:ring-blue-300 transition duration-300"}),n.nomor_polisi&&e.jsx("p",{className:"text-red-500 text-sm",children:n.nomor_polisi}),e.jsx("input",{type:"text",id:"km_kendaraan",name:"km_kendaraan",placeholder:"Kilometer Kendaraan",value:o.km_kendaraan,onChange:i,className:"w-full text-2xl p-2 mt-4 border rounded-lg shadow focus:outline-none focus:ring-2 focus:ring-blue-300 transition duration-300"}),n.km_kendaraan&&e.jsx("p",{className:"text-red-500 text-sm",children:n.km_kendaraan})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-orange-500 mb-2",children:"Catatan"}),e.jsx("textarea",{id:"catatan",name:"catatan",value:o.catatan,onChange:i,className:"w-full text-2xl p-3 border rounded-lg shadow focus:outline-none focus:ring-2 focus:ring-blue-300 transition duration-300"}),n.catatan&&e.jsx("p",{className:"text-red-500 text-sm",children:n.catatan})]})]}),e.jsx("div",{className:"place-items-end mt-8",children:e.jsx("button",{type:"submit",className:"py-2 px-6 bg-orange-600 text-white rounded-lg shadow hover:bg-orange-700 transition duration-300",children:"Submit"})})]})})]})]})})})}export{B as default};
