import{r,W as U,j as a,a as P}from"./app-CKhyJ4gm.js";import{A as I}from"./AdminLayout-D8-3Js1L.js";import{s as l}from"./EditBooking.module-DqgXu2wJ.js";import{B as v}from"./ButtonAdmin-ir0pVVQ-.js";import{S as c}from"./react-select.esm-BsiNRZzo.js";import{R as u,C as i}from"./Row-CtYgeGj7.js";/* empty css            */import"./index-Dx4H4bw4.js";import"./Button-D3-pOwhD.js";import"./ThemeProvider-DnvZDrLW.js";import"./setPrototypeOf-CL05xPcL.js";import"./emotion-unitless.esm-sScrWPmR.js";function la({booking:s,katalogs:S,users:k,jenisLayanans:C}){const[L,p]=r.useState(""),[w,j]=r.useState(""),[h,x]=r.useState(""),[B,_]=r.useState(""),[E,q]=r.useState(k),[F,T]=r.useState(S),[K,R]=r.useState(C),f=[{value:"Diproses",label:"Diproses"},{value:"Selesai",label:"Selesai"},{value:"Dibatalkan",label:"Dibatalkan"}].map(e=>({value:e.value,label:e.label})),b=K.map(e=>({value:e.id,label:e.jenis_layanan})),g=E.map(e=>({value:e.id,label:e.nama})),y=F.map(e=>({value:e.id,label:e.merk+" "+e.model})),{data:n,setData:d,post:G,put:M,processing:W,errors:N}=U({id:s.id,user_id:s.user_id,jenis_layanan:s.jenis_layanan,katalog_id:s.katalog_id,tahun_pembuatan:s.tahun_pembuatan,nomor_polisi:s.nomor_polisi,km_kendaraan:s.km_kendaraan,jadwal_booking:s.jadwal_booking,status:s.status,catatan:s.catatan});r.useEffect(()=>{d({...n,id:s.id,user_id:s.user_id,jenis_layanan:s.jenis_layanan,katalog_id:s.katalog_id,tahun_pembuatan:s.tahun_pembuatan,nomor_polisi:s.nomor_polisi,km_kendaraan:s.km_kendaraan,jadwal_booking:s.jadwal_booking,status:s.status,catatan:s.catatan}),p(s.user_id),x(s.jenis_layanan),j(s.katalog_id),_(s.status)},[s]),r.useEffect(()=>{d({...n,jenis_layanan:h})},[h]);const[t,J]=r.useState({});r.useEffect(()=>{J(N)},[N]);const m=e=>{const{name:o,value:D}=e.target;d({...n,[o]:D})},A=e=>{e.preventDefault(),M(route("admin.booking.update",{booking:n.id}),{errorBag:"updateBooking",preserveScroll:!0,data:n}),console.log("Updated booking data:",n)};return a.jsx(I,{title:"MANAJEMEN BOOKING",children:a.jsxs("div",{className:l["form-wrapper"],children:[a.jsx("h1",{className:l["title-form"]+" my-3",children:"Form Edit Booking"}),a.jsxs("form",{action:"#",method:"post",id:"form",onSubmit:A,className:l.form,children:[a.jsxs(u,{className:"justify-content-md-center mb-3",children:[a.jsxs(i,{md:4,children:[a.jsx("label",{className:l.label,htmlFor:"nama",children:"Nama Customer"}),a.jsx(c,{id:"user",options:g,value:g.find(e=>e.value===L),onChange:e=>{p(e.value),d(o=>({...o,user_id:e.value}))},placeholder:"Pilih User"}),t.user_id&&a.jsx("small",{className:"text-danger",children:t.user_id})]}),a.jsxs(i,{md:4,children:[a.jsx("label",{className:l.label,htmlFor:"jenis_layanan",children:"Jenis Layanan"}),a.jsx(c,{id:"jenisLayanan",options:b,value:b.find(e=>e.value===h),onChange:e=>x(e.value),placeholder:"Pilih Jenis Layanan"}),t.jenis_layanan&&a.jsx("small",{className:"text-danger",children:t.jenis_layanan})]}),a.jsxs(i,{md:4,children:[a.jsx("label",{className:l.label,htmlFor:"merk",children:"Merk Motor"}),a.jsx(c,{id:"katalog",options:y,value:y.find(e=>e.value===w),onChange:e=>{j(e.value),d(o=>({...o,katalog_id:e.value}))},placeholder:"Pilih Katalog"}),t.katalog_id&&a.jsx("small",{className:"text-danger",children:t.katalog_id})]})]}),a.jsxs(u,{className:"justify-content-md-center mb-3",children:[a.jsxs(i,{md:4,children:[a.jsx("label",{className:l.label,htmlFor:"tahun_pembuatan",children:"Tahun Pembuatan"}),a.jsx("input",{type:"text",name:"tahun_pembuatan",id:"tahun_pembuatan",placeholder:"2024",autoComplete:"off",required:!0,className:l.input,onChange:m,value:n.tahun_pembuatan}),t.tahun_pembuatan&&a.jsx("small",{className:"text-danger",children:t.tahun_pembuatan})]}),a.jsxs(i,{md:4,children:[a.jsx("label",{className:l.label,htmlFor:"nomor_polisi",children:"Nomor Polisi"}),a.jsx("input",{type:"text",name:"nomor_polisi",id:"nomor_polisi",placeholder:"B 1234 ABC",autoComplete:"off",required:!0,className:l.input,onChange:m,value:n.nomor_polisi}),t.nomor_polisi&&a.jsx("small",{className:"text-danger",children:t.nomor_polisi})]}),a.jsxs(i,{md:4,children:[a.jsx("label",{className:l.label,htmlFor:"km_kendaraan",children:"Kilometer Kendaraan"}),a.jsx("input",{type:"text",name:"km_kendaraan",id:"km_kendaraan",placeholder:"10000",autoComplete:"off",required:!0,className:l.input,onChange:m,value:n.km_kendaraan}),t.km_kendaraan&&a.jsx("small",{className:"text-danger",children:t.km_kendaraan})]})]}),a.jsxs(u,{className:"justify-content-md-center mb-3",children:[a.jsxs(i,{md:4,children:[a.jsx("label",{className:l.label,htmlFor:"jadwal_booking",children:"Jadwal Booking"}),a.jsx("input",{type:"date",name:"jadwal_booking",id:"jadwal_booking",placeholder:"2024",autoComplete:"off",required:!0,className:l.input,onChange:m,value:n.jadwal_booking}),t.jadwal_booking&&a.jsx("small",{className:"text-danger",children:t.jadwal_booking})]}),a.jsxs(i,{md:4,children:[a.jsx("label",{className:l.label,htmlFor:"status",children:"Status"}),a.jsx(c,{id:"status",options:f,value:f.find(e=>e.value===B),onChange:e=>{_(e.value),d(o=>({...o,status:e.value}))},placeholder:"Pilih Status"}),t.status&&a.jsx("small",{className:"text-danger",children:t.status})]}),a.jsxs(i,{md:4,children:[a.jsx("label",{className:l.label,htmlFor:"catatan",children:"Catatan Tambahan"}),a.jsx("textarea",{className:l.catatan,name:"catatan",id:"catatan",rows:"4",placeholder:"catatan Tambahan",autoComplete:"off",onChange:m,value:n.catatan}),t.catatan&&a.jsx("small",{className:"text-danger",children:t.catatan})]})]}),a.jsxs(u,{className:"mb-3",children:[a.jsx(i,{md:6,children:a.jsx(v,{variant:"secondary",style:{backgroundColor:"rgba(183, 182, 182, 0.8)",fontSize:"20px"},children:a.jsxs(P,{href:route("admin.booking.index"),style:{textDecoration:"none",color:"inherit",display:"flex",alignItems:"center"},children:[a.jsx("box-icon",{name:"arrow-back",color:"#fff"})," ",a.jsx("span",{style:{marginLeft:"10px"},children:"KEMBALI"})]})})}),a.jsx(i,{md:{span:2,offset:4},children:a.jsxs(v,{style:{background:"linear-gradient(90deg, #f16211 -14.33%, #e59a6f 85.67%)",fontSize:"20px"},type:"submit",children:[a.jsx("box-icon",{name:"save",type:"solid",color:"#fff"})," ",a.jsx("span",{style:{marginLeft:"10px"},children:"SUBMIT"})]})})]})]})]})})}export{la as default};
