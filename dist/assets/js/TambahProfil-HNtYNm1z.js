import{W as b,r as g,j as e,a as j,y}from"./app-CKhyJ4gm.js";import{s as v}from"./index-Dx4H4bw4.js";import{U as N}from"./UserLayout-Dp5mcvRC.js";/* empty css            */function C({auth:p,userId:m,user:a}){const{data:t,setData:c,errors:l}=b({userId:m||"",nama:(a==null?void 0:a.nama)||"",tanggal_lahir:(a==null?void 0:a.tanggal_lahir)||"",no_telepon:(a==null?void 0:a.no_telepon)||"",jenis_kelamin:(a==null?void 0:a.jenis_kelamin)||"",foto:null}),[x,u]=g.useState(a!=null&&a.foto?`/storage/${a.foto}`:null),[o,i]=g.useState({type:"",message:"",visible:!1}),h=r=>{const n=r.target.files[0];if(c("foto",n),n){const s=new FileReader;s.onloadend=()=>u(s.result),s.readAsDataURL(n)}},d=r=>{const{name:n,value:s}=r.target;c(n,s)},f=r=>{r.preventDefault();const n=new FormData;n.append("userId",t.userId),n.append("nama",t.nama),n.append("tanggal_lahir",t.tanggal_lahir),n.append("no_telepon",t.no_telepon),n.append("jenis_kelamin",t.jenis_kelamin),t.foto&&n.append("foto",t.foto),n.append("_method","PUT"),y.post(v("user.profile.store",{id:m}),n,{onSuccess:()=>{i({type:"success",message:"Profil berhasil diperbarui!",visible:!0}),setTimeout(()=>i({...o,visible:!1}),3e3)},onError:s=>{i({type:"error",message:"Terjadi kesalahan saat memperbarui profil.",visible:!0}),console.error("An error occurred",s),setTimeout(()=>i({...o,visible:!1}),3e3)}})};return e.jsxs(N,{auth:p,children:[e.jsx("h1",{className:"mt-4 text-6xl font-bold text-center text-gray-200 mb-12",children:"LENGKAPI PROFIL ANDA"}),e.jsxs("section",{className:"py-10 px-8 max-w-7xl mx-auto bg-gradient-to-r from-gray-100 to-white rounded-3xl shadow-lg mb-60",children:[e.jsx("div",{className:`mb-6 p-2 rounded-lg transform transition-all duration-300 ${o.visible?"opacity-100 scale-100":"opacity-0 scale-95"} ${o.type==="success"?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:o.message}),e.jsxs("form",{onSubmit:f,className:"space-y-6",children:[e.jsxs("div",{children:[x&&e.jsx("div",{className:"mt-4",children:e.jsx("img",{src:x,alt:"Preview",className:"w-32 h-32 rounded-full object-cover shadow-lg mx-auto transition duration-300 transform hover:scale-110"})}),l.foto&&e.jsx("span",{className:"text-red-500 text-sm",children:l.foto}),e.jsx("label",{className:"block text-3xl font-medium text-gray-700 mb-2",children:"Foto Profil"}),e.jsx("input",{type:"file",name:"foto",onChange:h,className:"w-full p-3 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring focus:ring-blue-200 transition duration-300"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-3xl font-medium text-gray-700 mb-2",children:"Nama"}),e.jsx("input",{type:"text",name:"nama",value:t.nama,onChange:d,className:"w-full p-3 text-2xl border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring focus:ring-blue-200 transition duration-300",placeholder:"John Doe"}),l.nama&&e.jsx("span",{className:"text-red-500 text-sm",children:l.nama})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-3xl font-medium text-gray-700 mb-2",children:"Tanggal Lahir"}),e.jsx("input",{type:"date",name:"tanggal_lahir",value:t.tanggal_lahir,onChange:d,className:"w-full text-2xl p-3 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring focus:ring-blue-200 transition duration-300"}),l.tanggal_lahir&&e.jsx("span",{className:"text-red-500 text-sm",children:l.tanggal_lahir})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-3xl font-medium text-gray-700 mb-2",children:"No Telepon"}),e.jsx("input",{type:"text",name:"no_telepon",value:t.no_telepon,onChange:d,className:"w-full text-2xl p-3 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring focus:ring-blue-200 transition duration-300",placeholder:"08123456789"}),l.no_telepon&&e.jsx("span",{className:"text-red-500 text-sm",children:l.no_telepon})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-3xl font-medium text-gray-700 mb-2",children:"Jenis Kelamin"}),e.jsxs("select",{name:"jenis_kelamin",value:t.jenis_kelamin,onChange:d,className:"w-full text-2xl p-3 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring focus:ring-blue-200 transition duration-300",required:!0,children:[e.jsx("option",{value:"",disabled:!0,children:"Pilih Jenis Kelamin"}),e.jsx("option",{value:"Laki-laki",children:"Laki-laki"}),e.jsx("option",{value:"Perempuan",children:"Perempuan"})]}),l.jenis_kelamin&&e.jsx("span",{className:"text-red-500 text-sm",children:l.jenis_kelamin})]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx(j,{href:"/",className:"py-2 px-4 bg-gray-200 text-gray-700 rounded-lg shadow hover:bg-gray-300 transition duration-300",children:"Kembali"}),e.jsx("button",{type:"submit",className:"py-2 px-4 bg-orange-600 text-white rounded-lg shadow hover:bg-orange-700 transition duration-300",children:"Simpan"})]})]})]})]})}export{C as default};
