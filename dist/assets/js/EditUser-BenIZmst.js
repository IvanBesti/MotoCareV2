import{q as b,W as P,r as m,j as e,a as U,y as T}from"./app-CKhyJ4gm.js";import{A}from"./AdminLayout-D8-3Js1L.js";import{B as N}from"./ButtonAdmin-ir0pVVQ-.js";import{s as w}from"./index-Dx4H4bw4.js";import{R as c,C as o}from"./Row-CtYgeGj7.js";/* empty css            */import"./Button-D3-pOwhD.js";import"./ThemeProvider-DnvZDrLW.js";const L="_form_xb4rc_1",M="_label_xb4rc_17",R="_input_xb4rc_22",u="_select_xb4rc_23",q="_error_xb4rc_45",l={"form-wrapper":"_form-wrapper_xb4rc_1","title-form":"_title-form_xb4rc_6",form:L,label:M,input:R,select:u,error:q};function G({user:a}){const h=b().props.errors;b();const{data:n,setData:d,post:I,errors:x}=P({id:(a==null?void 0:a.id)||"",nama:(a==null?void 0:a.nama)||"",username:(a==null?void 0:a.username)||"",email:(a==null?void 0:a.email)||"",tanggal_lahir:(a==null?void 0:a.tanggal_lahir)||"",no_telepon:(a==null?void 0:a.no_telepon)||"",jenis_kelamin:(a==null?void 0:a.jenis_kelamin)||"",role:(a==null?void 0:a.role)||"",foto:(a==null?void 0:a.foto)||""});m.useEffect(()=>{h&&_(h)},[h]);const[g,y]=m.useState(null),[j,k]=m.useState("password"),[f,v]=m.useState("password");m.useEffect(()=>{a&&d({id:(a==null?void 0:a.id)||"",nama:(a==null?void 0:a.nama)||"",username:(a==null?void 0:a.username)||"",email:(a==null?void 0:a.email)||"",tanggal_lahir:(a==null?void 0:a.tanggal_lahir)||"",no_telepon:(a==null?void 0:a.no_telepon)||"",jenis_kelamin:(a==null?void 0:a.jenis_kelamin)||"",role:(a==null?void 0:a.role)||"",foto:(a==null?void 0:a.foto)||""})},[a]);const r=p=>{const{name:i,value:t}=p.target;d({...n,[i]:t}),d(i==="jenis_kelamin"?{...n,jenis_kelamin:t}:{...n,[i]:t})},C=p=>{const i=p.target.files[0];if(i){const t=new FileReader;t.onloadend=()=>{y(t.result)},t.readAsDataURL(i),d({...n,foto:i})}},S=p=>{p.preventDefault();const i={id:n.id,nama:n.nama,username:n.username,email:n.email,tanggal_lahir:n.tanggal_lahir,no_telepon:n.no_telepon,jenis_kelamin:n.jenis_kelamin,role:n.role,foto:n.foto};T.post(w("admin.user.update",{user:a.id}),{method:"put",_method:"PUT",data:i,preserveScroll:!0,onSuccess:()=>{console.log("User updated successfully")},onError:t=>{console.log(t),console.log(x)}}),_({})},[s,_]=m.useState({});m.useEffect(()=>{_(x)},[x]);const E=()=>{k(j==="password"?"text":"password")},F=()=>{v(f==="password"?"text":"password")};return e.jsx(A,{title:"MANAJEMEN USER",children:e.jsxs("div",{className:l["form-wrapper"],children:[e.jsx("h1",{className:l["title-form"]+" my-3",children:"Form Edit User"}),e.jsxs("form",{onSubmit:S,id:"form",className:l.form,children:[e.jsxs(c,{className:"justify-content-md-center mb-3",children:[e.jsxs(o,{md:6,children:[e.jsx("label",{className:l.label,htmlFor:"name",children:"Nama"}),e.jsx("input",{type:"text",name:"nama",id:"nama",value:n.nama,onChange:r,autoComplete:"off",required:!0,className:l.input}),s.nama&&e.jsx("p",{className:l.error,children:s.nama})]}),e.jsxs(o,{md:6,children:[e.jsx("label",{className:l.label,htmlFor:"username",children:"Username"}),e.jsx("input",{type:"text",name:"username",id:"username",value:n.username,onChange:r,autoComplete:"off",required:!0,className:l.input}),s.username&&e.jsx("p",{className:l.error,children:s.username})]})]}),e.jsxs(c,{className:"justify-content-md-center mb-3",children:[e.jsxs(o,{md:6,children:[e.jsx("label",{className:l.label,htmlFor:"email",children:"Email"}),e.jsx("input",{type:"text",name:"email",id:"email",value:n.email,onChange:r,autoComplete:"off",required:!0,className:l.input}),s.email&&e.jsx("p",{className:l.error,children:s.email})]}),e.jsxs(o,{md:6,children:[e.jsx("label",{className:l.label,htmlFor:"tanggal_lahir",children:"Tanggal Lahir"}),e.jsx("input",{type:"date",name:"tanggal_lahir",id:"tanggal_lahir",value:n.tanggal_lahir,onChange:r,className:l.input}),s.tanggal_lahir&&e.jsx("p",{className:l.error,children:s.tanggal_lahir})]})]}),e.jsxs(c,{className:"justify-content-md-center mb-3",children:[e.jsxs(o,{md:6,children:[e.jsx("label",{className:l.label,htmlFor:"no_telepon",children:"No Telepon"}),e.jsx("input",{type:"text",name:"no_telepon",id:"no_telepon",value:n.no_telepon,onChange:r,autoComplete:"off",required:!0,className:l.input}),s.no_telepon&&e.jsx("p",{className:l.error,children:s.no_telepon})]}),e.jsxs(o,{md:6,children:[e.jsx("label",{className:l.label,htmlFor:"jenis_kelamin",children:"Jenis Kelamin"}),e.jsxs("select",{name:"jenis_kelamin",id:"jenis_kelamin",value:n.jenis_kelamin,onChange:r,className:l.select,children:[e.jsx("option",{value:"Laki-laki",children:"Laki-laki"}),e.jsx("option",{value:"Perempuan",children:"Perempuan"})]}),s.jenis_kelamin&&e.jsx("p",{className:l.error,children:s.jenis_kelamin})]})]}),e.jsxs(c,{className:"justify-content-md-center mb-3",children:[e.jsxs(o,{md:6,children:[e.jsxs("label",{className:l.label,htmlFor:"password",children:["Password ",e.jsx("small",{children:"(opsional)"})]}),e.jsxs("div",{className:l["input-with-icon"],children:[e.jsx("input",{type:j,name:"password",id:"password",autoComplete:"off",className:l.input}),e.jsx("span",{onClick:E,children:j==="password"?"Show":"Hide"})]}),s.password&&e.jsx("p",{className:l.error,children:s.password})]}),e.jsxs(o,{md:6,children:[e.jsx("label",{className:l.label,htmlFor:"konfirmasi_password",children:"Konfirmasi Password"}),e.jsxs("div",{className:l["input-with-icon"],children:[e.jsx("input",{type:f,name:"konfirmasi_password",id:"konfirmasi_password",autoComplete:"off",className:l.input}),e.jsx("span",{onClick:F,children:f==="password"?"Show":"Hide"})]}),s.password_confirmation&&e.jsx("p",{className:l.error,children:s.password_confirmation})]})]}),e.jsxs(c,{className:"justify-content-md-center mb-3",children:[e.jsxs(o,{md:6,children:[e.jsx("label",{className:l.label,htmlFor:"role",children:"Role User"}),e.jsxs("select",{name:"role",id:"role",value:n.role,onChange:r,className:l.select,children:[e.jsx("option",{value:"admin",children:"Admin"}),e.jsx("option",{value:"user",children:"User"})]}),s.role&&e.jsx("p",{className:l.error,children:s.role})]}),e.jsx(o,{md:6,children:e.jsxs(c,{children:[e.jsxs(o,{md:8,children:[e.jsx("label",{className:l.label,htmlFor:"foto",children:"Foto Profil"}),e.jsx("input",{type:"file",name:"foto",id:"foto",onChange:C,className:l.input})]}),e.jsx(o,{md:4,children:g?e.jsx("img",{src:g,id:"img-preview",alt:"",width:"100px"}):e.jsx("img",{src:"/images/avatar.png",id:"img-preview",alt:"",width:"100px"})})]})})]}),e.jsxs(c,{className:"mb-3",children:[e.jsx(o,{md:6,children:e.jsx(N,{variant:"secondary",style:{backgroundColor:"rgba(183, 182, 182, 0.8)",fontSize:"20px"},children:e.jsxs(U,{href:w("admin.user.index"),style:{textDecoration:"none",color:"inherit",display:"flex",alignItems:"center"},children:[e.jsx("box-icon",{name:"arrow-back",color:"#fff"})," ",e.jsx("span",{style:{marginLeft:"10px"},children:"KEMBALI"})]})})}),e.jsx(o,{md:{span:2,offset:4},children:e.jsxs(N,{style:{background:"linear-gradient(90deg, #f16211 -14.33%, #e59a6f 85.67%)",fontSize:"20px"},type:"submit",children:[e.jsx("box-icon",{name:"save",type:"solid",color:"#fff"})," ",e.jsx("span",{style:{marginLeft:"10px"},children:"SUBMIT"})]})})]})]})]})})}export{G as default};
