import{r as n,W as K,j as e,b as O,y as Q}from"./app-CKhyJ4gm.js";import{A as W}from"./AdminLayout-D8-3Js1L.js";import{X as U}from"./index.es-C-Wrnv7o.js";import{B as S}from"./ButtonAdmin-ir0pVVQ-.js";import{R as u,C as d}from"./Row-CtYgeGj7.js";import{M as r}from"./Modal-C2p2uCjZ.js";import{T as Y}from"./Table-BS6Wq2lG.js";import{B as v}from"./Button-D3-pOwhD.js";/* empty css            */import"./index-Dx4H4bw4.js";import"./emotion-unitless.esm-sScrWPmR.js";import"./ThemeProvider-DnvZDrLW.js";import"./setPrototypeOf-CL05xPcL.js";import"./divWithClassName-Bd0xnve-.js";const G="_search_1yuxp_40",P="_table_1yuxp_1",V="_tr_1yuxp_54",Z="_th_1yuxp_54",$="_td_1yuxp_59",ee="_form_1yuxp_24",ae="_harga_1yuxp_92",t={"table-wrapper":"_table-wrapper_1yuxp_1","title-table":"_title-table_1yuxp_8","sub-wrapper":"_sub-wrapper_1yuxp_18","form-search":"_form-search_1yuxp_24","icon-search":"_icon-search_1yuxp_32",search:G,table:P,tr:V,th:Z,td:$,"title-form":"_title-form_1yuxp_64",form:ee,"jenis-layanan":"_jenis-layanan_1yuxp_80",harga:ae};function ye({jenisLayanans:i}){const[L,_]=n.useState(!1),[k,x]=n.useState(!1),[w,D]=n.useState(""),[J,p]=n.useState(i),[o,g]=n.useState(!1),{data:l,setData:f,put:E,post:B,delete:se,processing:H,errors:y}=K({id:"",jenis_layanan:"",harga:""}),b=()=>_(!1),T=(a,s)=>{a.preventDefault(),_(!0),g(s),console.log(s)},j=()=>x(!1),A=(a,s)=>{a.preventDefault(),x(!0),g(s)},M=a=>{f({id:a.id,jenis_layanan:a.jenis_layanan,harga:a.harga})},R=[{name:"Jenis Layanan",selector:a=>a.jenis_layanan},{name:"Harga",selector:a=>a.harga},{name:"Action",selector:a=>e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:s=>T(s,a),style:{color:"#f16211"},children:e.jsx("box-icon",{name:"info-circle",type:"solid",color:"#f16211"})}),e.jsx("button",{onClick:()=>M(a),className:"mx-2",children:e.jsx("box-icon",{name:"edit",type:"solid",color:"#f16211"})}),e.jsx("button",{onClick:s=>A(s,a),style:{color:"#f16211"},children:e.jsx("box-icon",{name:"trash",type:"solid",color:"#f16211"})})]})}];function C(a){const s=a.target.id,c=a.target.value;f(I=>({...I,[s]:c}))}const[h,F]=n.useState({}),[N,m]=n.useState(!1),q=a=>{a.preventDefault();const s=l.id?"admin.jenisLayanan.update":"admin.jenisLayanan.store";(l.id?E:B)(route(s,l.id),{preserveScroll:!0,data:l,onSuccess:()=>{m(!0)}})},X=async()=>{try{await O.delete(route("admin.jenisLayanan.delete",{jenisLayanan:o.id}),{method:"DELETE",data:{_method:"DELETE",_token:document.querySelector('meta[name="csrf-token"]').getAttribute("content")},headers:{"X-CSRF-TOKEN":document.querySelector('meta[name="csrf-token"]').getAttribute("content")}}),x(!1),m(!0),console.log("OK"),setTimeout(()=>{m(!1),Q.visit(route("admin.jenisLayanan.index"))},1e3)}catch(a){console.error("Error deleting Jenis layanan",a)}},z=a=>{D(a.target.value);const s=i.filter(c=>c.jenis_layanan.toLowerCase().includes(a.target.value.toLowerCase())||c.harga.toLowerCase().includes(a.target.value.toLowerCase()));console.log(s),p(s)};return n.useEffect(()=>{p(i)},[i]),n.useEffect(()=>{console.log(y),F(y)},[y]),n.useEffect(()=>{N&&(p(i),f({id:"",jenis_layanan:"",harga:"",deskripsi:""}),m(!1))},[N,i]),e.jsxs(W,{title:"Manajemen Jenis Layanan",children:[e.jsxs(u,{children:[e.jsxs(d,{md:6,style:{borderRight:"2px solid #f16211"},children:[e.jsx("h1",{className:t["title-table"],children:"Daftar Jenis Layanan"}),e.jsxs("form",{id:"form-search",className:t["form-search"]+" d-flex justify-content-md-start",style:{width:"60%"},children:[e.jsx("span",{className:t["icon-search"],children:e.jsx("box-icon",{name:"search",color:"#f16211"})}),e.jsx("input",{type:"text",name:"search",id:"search",placeholder:"Cari Jenis Layanan",autoComplete:"off",className:t.search,value:w,onChange:z})]}),e.jsx(U,{columns:R,data:J,pagination:!0,responsive:!0,striped:!0,className:"table-striped"})]}),e.jsxs(d,{md:6,children:[e.jsx("div",{className:"form-merk-motor",children:e.jsx("h1",{className:t["title-form"],children:"Form Jenis Layanan"})}),e.jsxs("form",{id:"form",onSubmit:q,className:t.form,children:[e.jsx("input",{type:"hidden",name:"id",id:"id",value:l.id}),e.jsx(u,{className:"mb-3",children:e.jsxs(d,{md:{span:9,offset:1},children:[e.jsx("input",{type:"text",name:"jenis_layanan",id:"jenis_layanan",placeholder:"Jenis Layanan",autoComplete:"off",required:!0,value:l.jenis_layanan,onChange:C,className:t["jenis-layanan"]}),h.jenis_layanan&&e.jsx("small",{className:"text-danger",children:h.jenis_layanan})]})}),e.jsx(u,{className:"mb-4",children:e.jsxs(d,{md:{span:9,offset:1},children:[e.jsx("input",{type:"text",name:"link",id:"harga",placeholder:"Harga",autoComplete:"off",required:!0,value:l.harga,onChange:C,className:t.harga}),h.harga&&e.jsx("small",{className:"text-danger",children:h.harga})]})}),e.jsx(u,{children:e.jsx(d,{md:{span:8,offset:4},children:e.jsxs(S,{disabled:H,type:"submit",style:{background:"linear-gradient(90deg, #f16211 -14.33%, #e59a6f 85.67%)",fontSize:"20px",fontStyle:"normal",fontWeight:"700",textAlign:"center"},children:[e.jsx("box-icon",{name:"save",type:"solid",color:"#fff"})," ",e.jsx("span",{className:"ms-2",children:"SUBMIT"})]})})})]})]})]}),e.jsxs(r,{size:"lg",show:L,onHide:b,children:[e.jsx(r.Header,{closeButton:!0,children:e.jsxs(r.Title,{children:["Detail Jenis Layanan"," ",e.jsx("span",{className:"title",children:o&&o.jenis_layanan})]})}),e.jsx(r.Body,{children:e.jsx(Y,{borderless:!0,className:t.table,children:e.jsxs("tbody",{children:[e.jsxs("tr",{className:t.tr,children:[e.jsx("th",{className:t.th,children:"Jenis Layanan"}),e.jsx("td",{className:t.td,children:":"}),e.jsx("td",{children:o&&o.jenis_layanan})]}),e.jsxs("tr",{className:t.tr,children:[e.jsx("th",{className:t.th,children:"Harga"}),e.jsx("td",{className:t.td,children:":"}),e.jsx("td",{children:o&&o.harga})]})]})})}),e.jsx(r.Footer,{children:e.jsx(v,{variant:"secondary",onClick:b,children:"Close"})})]}),e.jsxs(r,{show:k,onHide:j,children:[e.jsx(r.Header,{closeButton:!0,children:e.jsx(r.Title,{children:"Hapus Jenis Layanan"})}),e.jsx(r.Body,{children:e.jsxs("p",{children:["Apakah anda yakin ingin menghapus Jenis Layanan:"," ",e.jsx("b",{children:o&&o.jenis_layanan}),"?"]})}),e.jsxs(r.Footer,{children:[e.jsx(v,{variant:"secondary",onClick:j,children:"Close"}),e.jsx("form",{onSubmit:X,method:"post",children:e.jsx(S,{type:"submit",variant:"primary",onClick:j,style:{backgroundColor:"#f16211",borderColor:"#f16211"},children:"Ya, Hapus"})})]})]})]})}export{ye as default};
